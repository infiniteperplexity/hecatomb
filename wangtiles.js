
let wangtiles = {
     t00000000: {
          rotate180: false,
          rotate90: false,
          mirror: false,
          tiles: [
               `
               00000000
               00000000
               00000000
               00000000
               00000000
               00000000
               00000000
               00000000
               `,
               `
               00000000
               00000000
               00011000
               00111100
               00111100
               00011000
               00000000
               00000000
               `
          ]
     },
     t00000001: {
          rotate180: true,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               00000000
               00000000
               11100000
               11110000
               11110000
               11100000
               00000000
               00000000
               `
          ]
     },
     t00000011: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               11100000
               11110000
               11110000
               11110000
               11110000
               11100000
               `
          ]
     },
     t00000101: {
          rotate180: true,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               00000000
               00000000
               11100000
               11110000
               11111000
               00111100
               00011100
               00011100
               `
          ]
     },
     t00000111: {
          rotate180: true,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               11100000
               11100000
               11110000
               11110000
               11110000
               11110000
               11100000
               11100000
               `
          ]
     },
     t00001001: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               11000000
               11100000
               11100001
               11000111
               00000111
               00001111
               `,
               `
               00000000
               00000000
               11000000
               11111000
               11111111
               11111111
               00011111
               00001111
               `
          ]
     },
     t00001011: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               11000000
               11100000
               11100001
               11100111
               11000111
               11100111
               `,
               `
               00000000
               00000000
               11000000
               11111111
               11111111
               11111111
               11100111
               11100111
               `
          ]
     },
     t00001111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               11000000
               11100000
               11111000
               11111110
               11111111
               11111111
               `
          ]
     },
     t00010001: {
          rotate180: true,
          rotate90: false,
          mirror: false,
          tiles: [
               `
               00000000
               00000000
               10000001
               11000011
               11000011
               10000001
               00000000
               00000000
               `,
               `
               00000000
               00000000
               11000011
               11111111
               11111111
               11000011
               00000000
               00000000
               `
          ]
     },
     t00010011: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               10000001
               11000011
               11000011
               10000111
               00000111
               00000111
               `,
               `
               00000000
               00000000
               11100111
               11111111
               11111111
               10011111
               00000111
               00000111
               `
          ]
     },
     t00010101: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               10000011
               11000111
               11000111
               10001110
               00011110
               00111100
               `
          ]
     },
     t00010110: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               00000001
               00000111
               00011111
               11111111
               11111110
               11111100
               `
          ]
     },
     t00010111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               11000001
               11111111
               11111111
               11111111
               11111110
               11111100
               `
          ]
     },
     t00011001: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               11000001
               11111111
               11111111
               11111111
               11111110
               11111100
               `
          ]
     },
     t00011011: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               10000001
               11000011
               11000011
               11100111
               11100111
               11100111
               `,
               `
               00000000
               00000000
               11000011
               11111111
               11111111
               11111111
               11100111
               11100111
               `
          ]
     },
     t00011101: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               10000001
               11000011
               11000111
               10001111
               00011111
               00111111
               `,
               `
               00000000
               00000000
               11000011
               11111111
               11111111
               01111111
               00111111
               00011111
               `
          ]
     },
     t00011110: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000000
               00000000
               00000001
               00000111
               00011111
               01111111
               11111111
               11111111
               `
          ]
     },
     t00011111: {
          rotate180: true,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               00000000
               00000000
               11000011
               11111111
               11111111
               11111111
               11111111
               11111111
               `,
               `
               00000000
               00000000
               11000011
               11000011
               11000011
               11000011
               11100111
               11111111
               `
          ]
     },
     t00100101: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000111
               00000111
               10000011
               11000000
               11000000
               10000000
               00011000
               00111100
               `,
               `
               00000111
               00001111
               11111111
               11111110
               11000000
               10000000
               00011000
               00111100
               `,
               `
               00000111
               00000111
               10000011
               11100000
               11110000
               01111000
               00111000
               00011100
               `,
               `
               00000111
               00000111
               00011111
               11111110
               11111100
               11111000
               00111000
               00011100
               `
          ]
     },
     t00100111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000111
               00000111
               10000011
               11000000
               11000000
               11100000
               11111000
               11111100
               `,
               `
               00000111
               00000111
               00011111
               11111110
               11111100
               11111000
               11111000
               11111100
               `
          ]
     },
     t00101011: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000111
               00000111
               10000011
               11000000
               11000000
               11100001
               11100011
               11100111
               `,
               `
               00000111
               00000011
               10000000
               11000000
               11111110
               11111111
               11100111
               11000011
               `,
               `
               00000111
               00001111
               00111110
               11111100
               11111100
               11111110
               11100111
               11000011
               `
          ]
     },
     t00101101: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000111
               00000111
               10000011
               11000000
               11000000
               10000111
               00011111
               00111111
               `,
               `
               00000111
               00000111
               10000011
               11000000
               11110000
               01111111
               00111111
               00011111
               `,
               `
               00000111
               00001111
               11111111
               11111000
               11000000
               10000111
               00011111
               00111111
               `,
               `
               00000111
               00011111
               11111110
               11111100
               11111100
               11111110
               00111111
               00111111
               `
          ]
     },
     t00101111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000111
               00000111
               10000011
               11000000
               11100000
               11111100
               11111111
               11111111
               `,
               `
               00000111
               00011111
               11111110
               11111100
               11111100
               11111110
               11111111
               11111111
               `
          ]
     },
     t00110011: {
          rotate180: false,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               00000111
               00000111
               10000111
               11000011
               11000011
               11100001
               11100000
               11100000
               `,
               `
               00000111
               00000111
               00011111
               11111111
               11111111
               11111100
               11110000
               11100000
               `
          ]
     },
     t00110111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000111
               00000111
               10000111
               11000011
               11000011
               11110001
               11111000
               11111100
               `,
               `
               00000111
               00000111
               00011111
               11111111
               11111111
               11111110
               11111100
               11111000
               `
          ]
     },
     t00111111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00000011
               00000011
               10000011
               11000111
               11111111
               11111111
               11111111
               11111111
               `
          ]
     },
     t01010101: {
          rotate180: false,
          rotate90: false,
          mirror: false,
          tiles: [
               `
               00111100
               00011000
               10000001
               11000011
               11000011
               10000001
               00011000
               00111100
               `,
               `
               00111100
               00011000
               10011001
               11111111
               11111111
               10011001
               00011000
               00111100
               `
          ]
     },
     t01010110: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00111100
               00011000
               00000001
               00000011
               00000011
               11000001
               11111000
               11111100
               `,
               `
               00111100
               00011000
               00000001
               00000011
               00011111
               11111111
               11111110
               11111100
               `,
               `
               00111100
               00011110
               00001111
               00000111
               00000011
               11000001
               11111000
               11111100
               `,
               `
               00111100
               00011100
               00001111
               00001111
               00011111
               11111111
               11111110
               11111100
               `
          ]
     },
     t01010111: {
          rotate180: true,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               00111100
               00011000
               10000001
               11000011
               11000011
               11100001
               11111000
               11111100
               `,
               `
               00111100
               00011110
               10001111
               11000011
               11000011
               11100001
               11111000
               11111100
               `,
               `
               00111100
               01111110
               11111111
               11111111
               11110011
               11110001
               11111000
               11111100
               `,
                `
               00111100
               01111000
               11110001
               11100011
               11100011
               11110001
               11111000
               11111100
               `,
               `
               00111100
               00011000
               10000001
               11000011
               11111111
               11111111
               11111110
               11111100
               `
          ]
     },
     t01011010: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00111100
               00011000
               00000001
               00000001
               00000011
               10000011
               11000111
               11100111
               `,
               `
               00111100
               00011110
               00001111
               00000111
               00000011
               10000011
               11000111
               11100111
               `,
               `
               00111100
               00011000
               00000001
               00000011
               00111111
               11111111
               11100111
               11000011
               `,
               `
               00111100
               00111000
               00110001
               00110001
               01110011
               11110011
               11100011
               11100111
               `
          ]
     },
     t01011011: {
          rotate180: true,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               00111100
               00011000
               10000001
               11000011
               11000011
               11000011
               11100111
               11100111
               `,
               `
               00111100
               00011000
               10000001
               11000011
               11111111
               11111111
               11100111
               11000011
               `,
               `
               00111100
               00011110
               10001111
               11000111
               11100111
               11100111
               11100111
               11100111
               `,
               `
               00111100
               01111000
               11100001
               11100011
               11100111
               11100111
               11100111
               11100111
               `,
               `
               00111100
               01111110
               11111111
               11111111
               11111111
               11111111
               11100111
               11000011
               `
          ]
     },
     t01011110: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00111100
               00011000
               00000001
               00000011
               00000011
               00111111
               11111111
               11111111
               `,
               `
               00111100
               00011110
               00001111
               00001111
               00001111
               00111111
               11111111
               11111111
               `
          ]
     },
     t01011111: {
          rotate180: true,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               00111100
               00011000
               10000001
               11000011
               11111111
               11111111
               11111111
               11111111
               `,
               `
               00111100
               01111110
               11111111
               11111111
               11111111
               11111111
               11111111
               11111111
               `,
               `
               00111100
               00011000
               10000001
               11000011
               11000011
               11000011
               11100111
               11111111
               `
          ]
     },
     t01100110: {
          rotate180: false,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00011111
               00000111
               00000000
               00000000
               00000000
               11000000
               11110000
               11111100
               `,
               `
               00011111
               00001111
               00001110
               00011100
               01111000
               11111000
               11110000
               11111100
               `
          ]
     },
     t01100111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00011111
               00000111
               00000000
               10000000
               10000000
               11000000
               11110000
               11111100
               `,
               `
               00011111
               00011111
               00111100
               11111100
               11110000
               11110000
               11111000
               11111100
               `
          ]
     },
     t01101111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00011111
               00000111
               00000000
               10000000
               11000000
               11111000
               11111111
               11111111
               `,
               `
               00011111
               00011111
               00111100
               11111000
               11111000
               11111100
               11111111
               11111111
               `
          ]
     },
     t01110111: {
          rotate180: false,
          rotate90: true,
          mirror: false,
          tiles: [
               `
               00111111
               00011111
               10001111
               11000111
               11100011
               11110001
               11111000
               11111100
               `,
               `
               00111111
               00011111
               10011111
               11111111
               11111111
               11111001
               11111000
               11111100
               `
          ]
     },
     t01111011: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00111111
               00011111
               10001111
               11000111
               11100011
               11110011
               11100011
               11100111
               `,
                `
               00111111
               00011111
               10001111
               11001111
               11111111
               11111111
               11100111
               11100111
               `
          ]
     },
     t01111110: {
          rotate180: false,
          rotate90: false,
          mirror: true,
          tiles: [
               `
               00011111
               00011111
               00011111
               00111111
               01111111
               11111111
               11111111
               11111111
               `
          ]
     },
     t01111111: {
          rotate180: true,
          rotate90: true,
          mirror: true,
          tiles: [
               `
               00011111
               00011111
               00111111
               11111111
               11111111
               11111111
               11111111
               11111111
               `,
               `
               00011111
               00001111
               00000111
               10000011
               11000011
               11100111
               11111111
               11111111
               `
          ]
     },
     t11111111: {
          rotate180: false,
          rotate90: false,
          mirror: false,
          tiles: [
               `
               11111111
               11111111
               11111111
               11111111
               11111111
               11111111
               11111111
               11111111
               `
          ]
     }
};

for (let key in wangtiles) {
     let tiles = wangtiles[key].tiles;
     // derive arrays from strings
     wangtiles[key].squares = [];
     for (let tile of tiles) {
          tile = tile.split("\n");
          tile.pop();
          tile.shift();
          tile = tile.map(s=>s.trim());
          grid = [];
          for (let i=0; i<8; i++) {
               grid.push([]);
               for (let j=0; j<8; j++) {
                    grid[i][j] = parseInt(tile[i][j]);
               }
          }
          wangtiles[key].squares.push(grid);
     }
     let s = key.substr(1,8);
     let r = s.substr(0,1)+s.substr(1,7).split("").reverse().join("");
     if (!(r in wangtiles)) {
          s = s.substr(2,7)
          let squares = wangtiles[key].squares;
          let sq = [];
          for (let i=0; i<8; i++) {
               sq.push([]);
               for (let j=8; j>0; j--) {
                    sq[i][8-j] = squares[i][j-1];
               }
          }
          wangtiles["t"+r] = {
               squares: [sq] 
          };
     }

}

for (let key of Object.keys(wangtiles)) {
     let s = key.substr(1,8);
     for (let i=0; i<8; i=i+2) {
          s = s.substr(2,7)+s.substr(0,2);
          if (!(s in wangtiles)) {
               // so these need to get rotated somehow...
               wangtiles["t"+s] = wangtiles[key];
          }
          let r = s.substr(0,1)+s.substr(1,7).split("").reverse().join("");
          if (!(r in wangtiles)) {
               wangtiles["t"+r] = wangtiles[key];
          }

     }
}